<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
  <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,700' rel='stylesheet' type='text/css'>
   <title>Snowflake Feature Preview August 2015</title>
   <link rel="stylesheet" href="devlog.css">
  <link rel="shortcut icon" href="favicon.png">

  </head>
  <body>
   <div class="centre">
        <img src="banner.svg"/>
        <div class="links"><a href="https://github.com/SnowflakePowered"><span id="contrib">contribute</span></a> &bullet; <a href="http://blog.ronnchyran.com/tagged/snowflake"><span id="blog">blog</span></a> &bullet; <a href="http://iris.stormbit.net/?channels=#snowflake"><span id="builds">chat</span></a> &bullet; <a href="http://snowflakepowe.red/doc/html/">docs</a></div>

<div class="post_wrapper">
<div class="post_body">

<h1>Snowflake Feature Preview August 2015</h1>
  <p><em>Are you a developer or a themer? <a href="#Developer_Roundup_45">Read the Developer Roundup!</a></em></p>
  <p>First off, apologies for the delay in releasing the alpha preview. Originally, I planned to release earlier, but as I went on, I felt Snowflake is still not ready for use. I want to deliver you the best frontend ever, even in alpha. Only recently were some features added, and there still aren’t enough emulators that have had plugins written, which is taking more time than anticipated. The main theme still has a few bugs and unimplemented features, and overall it’s lacking in polish that would’ve been great for a preview. That doesn’t mean you can’t see what I’ve been up to these past months though!</p>
  <p>You can contact me through <a href="http://reddit.com/u/ron975">reddit</a> or by email at <a href="mailto:ronny@ronnchyran.com">ronny@ronnchyran.com</a>. Without further ado, let’s take a look at some new features since the last showcase.</p>
  <h2><a id="Better_settings_7"></a>Better settings</h2>
  <p><img src="http://i.imgur.com/qgVGi2U.gif" alt="Better Settings"></p>
  <p>Changing settings has been improved greatly. The previous “Customized” system has been completely overhauled to be more explicit with a locked (set to default settings) and unlocked (customizable) system.  Loading and syncing settings has also been optimized, it now loads and refreshes twice as fast, and doesn’t randomly lose customized settings anymore as it did before.</p>
  <h2><a id="One_device_one_gamepad_14"></a>One device, one gamepad</h2>
  <p>Snowflake used to require every single device be separate in terms of mapping controls. This would’ve meant having to set different button mappings for every controller, for every device. You would be setting the ‘A’ button fifteen times just so you could play <em>Super Mario Bros. 3</em> and <em>Sonic &amp; Knuckles</em> the same way.</p>
  <p><img src="http://i.imgur.com/MIEOg9e.png" alt="Simple Control"></p>
  <p>This feature has been reworked to use a system more similar to RetroArch’s. For every input device there is only one set of mappings to a “virtual” gamepad that is worked down the each emulator’s controls. The A button is now the same button across the Genesis, the PlayStation (err… <img src="https://upload.wikimedia.org/wikipedia/commons/c/c2/PlayStationX.svg" style="height:12pt; width:12pt;padding:0;margin:0!important;display:inline;" alt="Cross"> button), and the Gamecube.</p>
  <div class="ad" style="margin-top: 10px;"><ins class="adsbygoogle"
       style="width:728px;height:90px"
       data-ad-client="ca-pub-4126909633008126"
       data-ad-slot="9643749490"></ins></div>


  <h2><a id="PLAYER_ONE__Insert_Controller_23"></a>PLAYER ONE — Insert Controller</h2>
  <p><img src="http://i.imgur.com/jOi3bVa.png" alt="Port Settings"></p>
  <p>You can choose which device you want to use for which player, just like an actual console. <small><del>Now you can beat Psycho Mantis</small></del>For now, Snowflake works only with the keyboard/mouse and XInput controllers. Support for DirectInput and udev (Linux) will come soon after the alpha.</p>
  <h2><a id="More_and_more_emulators_29"></a>More and more emulators</h2>
  <p>The most important part of an emulator frontend is the emulators. Many more emulators have already been adapted to Snowflake’s powerful plugin system, like <a href="https://github.com/SnowflakePowered/emulator-RetroArchBridge">Mednafen PSX and Genesis Plus GX</a>. A Dolphin plugin is <a href="https://github.com/SnowflakePowered/emulator-DolphinBridge">already coming together</a>. Snowflake’s plugin system is extremely flexible; the Dolphin plugin will detect whether or not you have Wii remotes plugged in and automatically override any emulated Wiimotes.</p>
  <h2><a id="Spiffy_installer_34"></a>Spiffy installer</h2>
  <p><img src="http://i.imgur.com/IMsdNxZ.gif" alt="installer">
  Snowflake is going to be easy to install. When you first start it up, Snowflake will grab a list of plugins from a plugin repository and automatically download and install them. We’re still working on the downloading part (the alpha will have to come with all plugins pre-installed), but Snowflake makes both the first setup, and keeping up to date, extremely easy.</p>
  <h2><a id="More_to_come_39"></a>More to come</h2>
  <p>We’re quickly approaching Snowflake 1.0 Alpha. The dream I’ve had for <a href="https://github.com/RonnChyran/Snowflake-old">2+ years</a> and <a href="https://github.com/SnowflakePowered/snowflake-py">3 rewrites</a> is finally coming to fruition, but it’s not done yet. I have big plans in mind, including cloud saves, automatic CUE generation for PSX games and a 10-foot theme based on <a href="http://www.lakka.tv/">Lakka.tv</a>. If you have any more ideas or features you want to see in Snowflake, feel free to contact me through <a href="http://reddit.com/u/ron975">reddit</a> or by email at <a href="mailto:ronny@ronnchyran.com">ronny@ronnchyran.com</a>. I can’t wait to see what I can show off by the Alpha.</p>



</div>
</div>
<div></div>

<div class="post_wrapper">
<div class="post_body">

  <h1><a id="Developer_Roundup_45"></a>Snowflake Developer Roundup August 2015</h1>
  <p>There have been some major changes to the Snowflake API since I’ve done a developer-oriented devlog. The good news is, now that all these big changes have been done, there aren’t any more huge overhauls planned (except maybe the <a href="https://github.com/SnowflakePowered/snowflake/issues/142">removal of the entire IIdentifier API</a> ), so it is now safe to work with Snowflake’s API to build and extend your frontend. <strong>The following is a wall of text that may be technical-sounding and regards the inner workings of Snowflake. Read on if you want to learn how to make plugins or themes</strong>. To get started with Snowflake,
  you can get what you need to get set up at <a href="http://www.nuget.org/packages/Snowflake">NuGet</a> and <a href="https://www.npmjs.com/package/snowflake.js">npm</a>. Offline documentation is available for download at <a href="https://ci.appveyor.com/project/RonnChyran/snowflake/build/artifacts">AppVeyor</a>.</p>
  <p><h3>Make snowflake.js requests respond with useful objects</h3>
  For themers, [<a href="https://github.com/SnowflakePowered/snowflake/pull/132">PR #132</a>] makes <code>snowflake.setFlagValues</code> return all the new values, so you don’t have to make an extra call to <code>snowflake.getFlagValues</code>. [<a href="https://github.com/SnowflakePowered/snowflake/pull/156">PR #156</a>] makes all JSAPI methods that used to return a status string return the object that was manipulated so you can use it right after. Unfortunately I still have to get on the documentation for <code>snowflake.js</code> and <code>Snowflake.StandardAjax</code>, so I apologize for that if you wanted to make a theme. You can look at <a href="https://github.com/SnowflakePowered/theme-paper-snowflake">theme-paper-snowflake</a> to see how to interact with the Snowflake JSAPI to make themes.</p>
  <p><h3>C# 6.0 features</h3>
  Most importantly, [<a href="https://github.com/SnowflakePowered/snowflake/pull/154">PR #154</a>] upgrades Snowflake to use C# 6.0 features, as well as doing some code-cleanup. This means you will need <a href="https://www.visualstudio.com/en-us/downloads/download-visual-studio-vs.aspx">Visual Studio 2015</a> to develop with Snowflake. Around the same time I’ve also [<a href="https://github.com/SnowflakePowered/snowflake/pull/152">PR #152</a>] cleaned up and improved documentation. Documentation is now available in both <a href="https://ci.appveyor.com/project/RonnChyran/snowflake/build/artifacts">Sandcastle and Doxygen formats</a>. Doxygen provides some more information into the concrete implementations of some interfaces, but Sandcastle looks a lot more nicer.</p>
  <p><h3>Proper entry point on Windows</h3>
  [<a href="https://github.com/SnowflakePowered/snowflake/pull/126">PR #126</a>] Introduces a proper entry-point on Windows rather than the hacky Core.Init. I’m planning to extend this with a simple socket command interface (something basic like &quot;<code>SHUTDOWN</code>/<code>RESTART</code>/<code>INSTALLPLUGINS</code>&quot;) so the theme can communicate with its host. Plugin installation will also be handled by the shell; plugins will be packaged in a simple ZIP compressed format with a manifest, and the shell will simply install whatever is placed into a staging folder.</p>
  <p><h3>Flexible events framework</h3>
  One of the major overhauls in the API is with [<a href="https://github.com/SnowflakePowered/snowflake/pull/134">PR #134</a>] the events API. Rather than a set list of events that can’t be extendable, the new Events API acts like a dependency-injection container. You register the event type with the <code>SnowflakeEventsManager.EventSource</code>, which persists indefinitely throughout the lifetime of the application, and you can raise and subscribe to the event as long as the plugin has knowledge of the EventArgs’s Type. This makes it much more flexible and exposes a service for plugins to use.</p>

  <p><h3>Better plugin utilities</h3>
  Speaking of plugins, [<a href="https://github.com/SnowflakePowered/snowflake/pull/128">PR #128</a>] and [<a href="https://github.com/SnowflakePowered/snowflake/pull/147">PR #147</a>] introduce new utility features for plugins to use. Plugins can now clean up on unload by overriding <code>Dispose()</code> as per .NET conventions, and access a logger object at <code>this.Logger</code>. <code>IPluginConfigurationOption</code> hasn’t been implemented yet, but will be a way for themes to access and change plugin options, basically a shim for an <code>IPluginConfiguration</code> object.</p>
  <p><h3>EmulatorBridge improvements</h3>
  There are a lot of breaking changes that involve <code>IEmulatorBridge</code>, in order to make writing bridges and adapters much easier. [<a href="https://github.com/SnowflakePowered/snowflake/pull/149">PR #149</a>] (sorry for the messy commit history) splits off super-long single time templates into their own files, because JSON doesn’t like multi-line strings. I find this is much more easier to work with rather than having strings with <code>\r\n</code> scattered literally everywhere, simply name the template the same as the configuration ID, and save it as an embedded resource. Most importantly, [<a href="https://github.com/SnowflakePowered/snowflake/pull/159">PR #159</a>] inserts the <code>IGameInfo</code> game object into all the <code>CompileConfiguration</code> and <code>CompileController</code> overloads. This allows plugins to conditionally compile configuration files based on the game and the game’s flags. This allows things like selecting which <a href="https://github.com/SnowflakePowered/emulator-DolphinBridge/blob/master/DolphinBridge.Stable.Five/resource/flags.json#L3">Wii Remote extension to use</a> by a configuration flag.</p>
  <p><h3>Controller compilation improvements</h3>
  [<a href="https://github.com/SnowflakePowered/snowflake/pull/144">PR #144</a>] adds mouse support to <code>IKeyboardMapping</code>, so any <code>input.json</code> files will have to be updated to accommodate the new <code>MOUSE_*</code> keys. [<a href="https://github.com/SnowflakePowered/snowflake/pull/121">PR #121</a>] greatly simplifies controller compilation. Instead of having to map each profile to a controller definition, and to a device, <code>GamepadAbstraction</code> provides a RetroArch or HTML5-like model of a unified virtual gamepad modeled on an XInput controller. Instead of getting the profile for the controller for the device, you can simply get the <code>GamepadAbstraction</code> for the device, and everything is automatically <a href="https://github.com/SnowflakePowered/snowflake-controllers">mapped together by the controller definition</a>.</p>
  <p><h3>Getting Started</h3>
  You can get what you need to get set up at <a href="http://www.nuget.org/packages/Snowflake">NuGet</a> and <a href="https://www.npmjs.com/package/snowflake.js">npm</a>. Offline documentation is available for download at <a href="https://ci.appveyor.com/project/RonnChyran/snowflake/build/artifacts">AppVeyor</a>. To reiterate, the Plugin, Events and StandardAjax (snowflake.js) APIs are essentially stable now and won’t have any more breaking changes  unless something big happens, but please do be aware that Snowflake is still technically in code-churn so do look out for any breaking PRs that are to be merged by starring the <a href="https://github.com/SnowflakePowered/snowflake">GitHub page</a>. If you need any help with understanding the API, contact me through <a href="http://reddit.com/u/ron975">reddit</a> or by email at <a href="mailto:ronny@ronnchyran.com">ronny@ronnchyran.com</a>.</p>

<em>&copy; Ronny Chan 2015. Published 2015 August 13.</em>

</div>
</div>
 </div>
<div class="ad"</div>

   <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Snowflake Ad -->

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </body>
</html>
